<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Netty의 데이터 컨테이너(ByteBuf) - Jade&#39;s Blog</title>


    <meta name="description" content="네트워크 데이터의 기본 단위는 항상 바이트다. Java의 ByteBuffer보다 사용하기 쉬운 Netty의 데이터 컨테이너 ByteBuf에 대해 알아보자.     Java NIO ByteBuffer자바 NIO 바이트 버퍼는 바이트 데이터를 저장하고 읽는 저장소다. 배열을 멤버 변수로 가지고 배열에 대한 읽고 쓰기 메소드를 제공한다. xxxBuffer 형태의">
<meta name="keywords" content="Network,Netty">
<meta property="og:type" content="article">
<meta property="og:title" content="Netty의 데이터 컨테이너(ByteBuf)">
<meta property="og:url" content="https://j2de.github.io/2018/05/23/netty-datacontainer-bytebuf/index.html">
<meta property="og:site_name" content="Jade&#39;s Blog">
<meta property="og:description" content="네트워크 데이터의 기본 단위는 항상 바이트다. Java의 ByteBuffer보다 사용하기 쉬운 Netty의 데이터 컨테이너 ByteBuf에 대해 알아보자.     Java NIO ByteBuffer자바 NIO 바이트 버퍼는 바이트 데이터를 저장하고 읽는 저장소다. 배열을 멤버 변수로 가지고 배열에 대한 읽고 쓰기 메소드를 제공한다. xxxBuffer 형태의">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://j2de.github.io/images/og_image.png">
<meta property="og:updated_time" content="2020-03-19T01:11:35.332Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Netty의 데이터 컨테이너(ByteBuf)">
<meta name="twitter:description" content="네트워크 데이터의 기본 단위는 항상 바이트다. Java의 ByteBuffer보다 사용하기 쉬운 Netty의 데이터 컨테이너 ByteBuf에 대해 알아보자.     Java NIO ByteBuffer자바 NIO 바이트 버퍼는 바이트 데이터를 저장하고 읽는 저장소다. 배열을 멤버 변수로 가지고 배열에 대한 읽고 쓰기 메소드를 제공한다. xxxBuffer 형태의">
<meta name="twitter:image" content="https://j2de.github.io/images/og_image.png">





<link rel="alternative" href="https://j2de.github.io/feed.xml" title="Netty의 데이터 컨테이너(ByteBuf)" type="application/atom+xml">



<link rel="icon" href="/images/favicions/floppy_disk.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146445480-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-146445480-1');
</script>

    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                Jade&#39;s Blog
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-8-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-22T15:00:00.000Z">2018-05-23</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/server/">Server</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/server/netty/">Netty</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    27 minutes read (About 4080 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Netty의 데이터 컨테이너(ByteBuf)
            
        </h1>
        <div class="content">
            <p>네트워크 데이터의 기본 단위는 항상 바이트다. Java의 ByteBuffer보다 사용하기 쉬운 Netty의 데이터 컨테이너 <code>ByteBuf</code>에 대해 알아보자.  </p>
<br/>

<h2 id="Java-NIO-ByteBuffer"><a href="#Java-NIO-ByteBuffer" class="headerlink" title="Java NIO ByteBuffer"></a>Java NIO ByteBuffer</h2><p>자바 NIO 바이트 버퍼는 바이트 데이터를 저장하고 읽는 저장소다. 배열을 멤버 변수로 가지고 배열에 대한 읽고 쓰기 메소드를 제공한다. <code>xxxBuffer</code> 형태의 각 데이터별로 버퍼를 제공한다. ByteBuffer는 <code>capacity</code> / <code>position</code> / <code>limit</code> 세가지 속성을 가진다.</p>
<ul>
<li><strong>capacity</strong> : 버퍼에 저장할 수 있는 데이터의 최대 크기. 한번 정하면 바꿀 수 없다. 버퍼를 생성할 때 생성자의 인수로 입력된 값이다.</li>
<li><strong>position</strong> : 읽기 또는 쓰기 작업 중인 위치를 나타낸다. 버퍼 객체가 생성되면 0으로 초기화되고 쓰기(<code>put</code>) 또는 읽기(<code>get</code>) 작업이 수행되면 자동으로 증가한다.</li>
<li><strong>limit</strong> : 읽고 쓸 수 있는 버퍼 공간의 최대치. <code>limit</code> 메소드로 값을 조절할 수 있지만 <code>capacity</code>보다 크게 설정할 수 없다.</li>
</ul>
<br/>

<h2 id="Java-ByteBuffer-생성-및-종류"><a href="#Java-ByteBuffer-생성-및-종류" class="headerlink" title="Java ByteBuffer 생성 및 종류"></a>Java ByteBuffer 생성 및 종류</h2><p>자바의 ByteBuffer는 생성자가 아닌 추상 클래스의 메소드를 통해 생성한다. 아래의 메소드를 이용한다.</p>
<ul>
<li><p><strong>allocate</strong> : JVM 힙 영역에 바이트 버퍼를 생성. 이를 보통 <code>힙 버퍼</code>라고 한다. 인수는 앞에서 설명한 <code>capacity</code> 값에 해당하는 버퍼의 크기이다. 바이트 버퍼의 값은 모두 0으로 초기화된다. 힙 버퍼는 풀링이 사용되지 않는 경우 빠른 할당과 해제 속도를 보여준다.</p>
</li>
<li><p><strong>allocateDirect</strong> : JVM 힙 영역이 아닌 OS의 커널 영역에 바이트 버퍼를 생성한다. 이를 <code>다이렉트 버퍼</code>라고 한다. <code>allocateDirect</code> 메소드는 <code>ByteBuffer</code> 추상 클래스만 사용할 수 있다. 즉 <code>Direct Buffer</code>는 <code>ByteBuffer</code>로만 생성할 수 있다. 다이렉트 버퍼는 힙 버퍼에 비해 생성 시간은 길지만 더 빠른 IO 성능을 제공한다.</p>
<p>전송할 데이터가 힙에 할당된 버퍼에 있는 경우 JVM은 소켓을 통해 데이터를 전송하기 전에 내부적으로 버퍼를 다이렉트 버퍼로 복사한다. 다이렉트 버퍼를 사용하면 이런 오버헤드를 줄일 수 있다. 하지만 다이렉트 버퍼의 데이터에 접근하려면 복사본을 만들어야 접근할 수 있다는 단점이 있다.</p>
</li>
<li><p><strong>wrap</strong> : 입력된 바이트 배열을 이용해 바이트 버퍼를 생성한다. 입력에 사용된 바이트 배열이 변경되면 wrap을 사용해 생성한 바이트 배열의 값도 변경된다.</p>
</li>
</ul>
<br/>

<h2 id="그외-Java-NIO-ByteBuffer의-특징"><a href="#그외-Java-NIO-ByteBuffer의-특징" class="headerlink" title="그외 Java NIO ByteBuffer의 특징"></a>그외 Java NIO ByteBuffer의 특징</h2><ul>
<li>Java ByteBuffer는 읽기 / 쓰기 작업시 같은 <code>position</code>의 값이 바뀐다. 읽기 / 쓰기 인덱스가 분리되어 있지 않아서 작업 전환시 <code>flip()</code> 메소드를 사용해야한다. 그리고 다중 스레드 환경에서 바이트 버퍼를 공유하지 않아야한다.</li>
</ul>
<br/>

<h1 id="Netty-Architecture-Overview"><a href="#Netty-Architecture-Overview" class="headerlink" title="Netty Architecture Overview"></a>Netty Architecture Overview</h1><img alt="Netty Architecture" src="/images/2018-05-23/01.png">

<br/>

<h2 id="Netty-ByteBuf-특징"><a href="#Netty-ByteBuf-특징" class="headerlink" title="Netty ByteBuf 특징"></a>Netty ByteBuf 특징</h2><img width="686" alt="Netty ByteBuf" src="/images/2018-05-23/02.png">

<ul>
<li>별도의 <code>Read Index</code> / <code>Write Index</code>가 있다.</li>
<li>위의 이유로 <code>flip()</code> 메소드를 사용하지 않아도 된다.</li>
<li>가변 바이트 버퍼를 사용할 수 있다.</li>
<li>바이트 버퍼 풀 기능을 제공한다.</li>
<li>복합 버퍼 사용이 가능하다.(<code>Heap</code> + <code>Direct</code>)</li>
<li>Java의 ByteBuffer와 Netty의 ByteBuf의 상호 변환이 가능하다.</li>
</ul>
<br/>

<h2 id="Netty의-ByteBuf-생성"><a href="#Netty의-ByteBuf-생성" class="headerlink" title="Netty의 ByteBuf 생성"></a>Netty의 ByteBuf 생성</h2><p>네티의 바이트 버퍼는 자바의 바이트 버퍼와 다르게 프레임워크 레벨의 바이트 버퍼 풀을 제공하고 이를 통해 생성된 바이트 버퍼를 재사용한다. Netty의 바이트 버퍼를 바이트 버퍼 풀에 할당하려면 <code>ByteBufAllocator</code> 인터페이스를 사용한다. <code>ByteBufAllocator</code>의 하위 추상 구현체인 <code>PooledByteBufAllocator</code> 클래스로 각 바이트 버퍼를 생성한다.</p>
<br/>

<h2 id="Pooled-Unpooled-ByteBuf"><a href="#Pooled-Unpooled-ByteBuf" class="headerlink" title="Pooled / Unpooled ByteBuf"></a>Pooled / Unpooled ByteBuf</h2><p>자바의 바이트 버퍼는 데이터 형에 따른 ByteBuffer 생성을 지원했지만 네티는 풀링 여부로 ByteBuf를 구분한다. <code>Unpooled</code> 클래스와 <code>PooledByteBufAllocator</code> 사용해 생성하고 다이렉트 버퍼와 힙 버퍼를 생성하기 위해 <code>directBuffer</code> 메소드와 <code>heapBuffer</code> 메소드를 사용한다.</p>
<table>
<thead>
<tr>
<th>ByteBuf 종류</th>
<th>풀링 함</th>
<th>풀링 안 함</th>
</tr>
</thead>
<tbody><tr>
<td>힙 버퍼</td>
<td>PooledHeapByteBuf</td>
<td>UnpooledHeapByteBuf</td>
</tr>
<tr>
<td>다이렉트 버퍼</td>
<td>PooledDirectByteBuf</td>
<td>UnpooledDirectByteBuf</td>
</tr>
</tbody></table>
<p><code>PooledByteBufAllocator</code>는 <code>ByteBuf</code> 인스턴스를 풀링해 성능을 개선하고 메모리 단편화를 최소화한다. <code>UnpooledByteBufAllocator</code>는 <code>ByteBuf</code> 인스턴스를 풀링하지 않고 호출될 때마다 새로운 인스턴스를 반환한다.</p>
<table>
<thead>
<tr>
<th>생성 방법</th>
<th>풀링 함</th>
<th>풀링 안 함</th>
</tr>
</thead>
<tbody><tr>
<td>힙 버퍼</td>
<td>ByteBufAllocator.DEFAULT.heapBuffer()</td>
<td>Unpooled.buffer()</td>
</tr>
<tr>
<td>다이렉트 버퍼</td>
<td>ByteBufAllocator.DEFAULT.directBuffer()</td>
<td>Unpooled.directBuffer()</td>
</tr>
</tbody></table>
<ul>
<li><strong>ByteBuf 생성 예</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ByteBuf buf = Unpooled.buffer(<span class="number">11</span>);</span><br><span class="line"><span class="comment">// 바이트 버퍼 풀을 사용하지 않는 11바이트 크기의 힙 버퍼 생성</span></span><br><span class="line">ByteBuf buf = Unpooled.directBuffer(<span class="number">11</span>);</span><br><span class="line"><span class="comment">// 바이트 버퍼 풀을 사용하지 않는 11바이트 크기의 다이렉트 버퍼를 생성</span></span><br><span class="line">ByteBuf buf = PooledByteBufAllocator.DEFAULT.heapBuffer(<span class="number">11</span>);</span><br><span class="line"><span class="comment">// 풀링된 11바이트 크기의 힙 버퍼 생성</span></span><br><span class="line">ByteBuf buf = PooledByteBufAllocator.DEFAULT.directBuffer(<span class="number">11</span>);</span><br><span class="line"><span class="comment">// 풀링된 11바이트 크기의 다이렉트 버퍼 생성</span></span><br></pre></td></tr></table></figure>

<p>크기를 지정하지 않으면 Netty에 지정된 기본 값인 256바이트 크기의 바이트 버퍼가 생성된다.</p>
<br/>

<h2 id="Read-Write"><a href="#Read-Write" class="headerlink" title="Read / Write"></a>Read / Write</h2><p>ByteBuf의 읽을 수 있는 바이트 세그먼트에 실제 데이터가 저장된다. 이때 새로 할당, 래핑, 복사된 버퍼에서 <code>readerIndex</code>의 기본값은 0이다. read나 skip으로 시작하는 모든 메소드는 현재 <code>readerIndex</code> 위치에 있는 데이터를 읽거나 건너 뛰고 읽은 바이트 수 만큼 <code>readerIndex</code>를 증가시킨다.</p>
<p>ByteBuf의 기록할 수 있는 바이트 세그먼트는 정의되지 않은 내용이 들어 있고 기록할 수 있는 영역이다. 새로 할당된 버퍼의 <code>writerIndex</code> 기본값은 0이고 write로 시작하는 모든 메소드는 현재 <code>writerIndex</code> 위치부터 데이터를 기록하고 기록한 만큼 <code>writerIndex</code>를 증가시킨다.</p>
<table>
<thead>
<tr>
<th align="left">readBytes(ByteBuf dest)</th>
<th align="left">인수의 ByteBuf만큼 읽는다</th>
</tr>
</thead>
<tbody><tr>
<td align="left">writeBytes(ByteBuf dest)</td>
<td align="left">인수의 ByteBuf만큼 쓴다.</td>
</tr>
</tbody></table>
<ul>
<li><p>모든 데이터 읽기</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ByteBuf buffer = ...;</span><br><span class="line"><span class="keyword">while</span>(buffer.isReadable())&#123;</span><br><span class="line">  System.out.println(buffer.readByte());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>데이터 기록</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 버퍼의 기록할 수 있는 바이트를 임의의 정수로 채움</span></span><br><span class="line">ByteBuf buffer = ...;</span><br><span class="line"><span class="keyword">while</span>(buffer.writableBytes() &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">  buffer.writeInt(random.nextInt());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="읽기-쓰기-작업"><a href="#읽기-쓰기-작업" class="headerlink" title="읽기 / 쓰기 작업"></a>읽기 / 쓰기 작업</h3><p>Netty ByteBuf의 읽기, 쓰기 작업은 두가지로 나뉜다.</p>
<ul>
<li><code>get()</code>, <code>set()</code> 작업은 저장한 인덱스에서 시작하고 인덱스를 변경하지 않는다.</li>
<li><code>read()</code>, <code>write()</code> 작업은 지정한 인덱스에서 시작하고 접근한 바이트 수만큼 인덱스를 증가시킨다.</li>
</ul>
<h4 id="자주-쓰이는-get-작업"><a href="#자주-쓰이는-get-작업" class="headerlink" title="자주 쓰이는 get() 작업"></a>자주 쓰이는 get() 작업</h4><table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>getBoolean(int)</td>
<td>지정한 인덱스의 Boolean 값을 반환</td>
</tr>
<tr>
<td>getByte(int)</td>
<td>지정한 인덱스의 바이트를 반환</td>
</tr>
<tr>
<td>getUnsignedByte(int)</td>
<td>지정한 인덱스의 부호 없는 바이트 값을 short로 반환</td>
</tr>
<tr>
<td>getMedium(int)</td>
<td>지정한 인덱스의 24비트 미디엄 int값을 반환</td>
</tr>
<tr>
<td>getUnsignedMedium(int)</td>
<td>지정한 인덱스의 부호 없는 24비트 미디엄 int 값을 반환</td>
</tr>
<tr>
<td>getInt(int)</td>
<td>지정한 인덱스의 int값을 반환</td>
</tr>
<tr>
<td>getUnsignedInt(int)</td>
<td>지정한 인덱스의 부호 없는 int값을 long으로 반환</td>
</tr>
<tr>
<td>getLong(int)</td>
<td>지정한 인덱스의 long 값을 반환</td>
</tr>
</tbody></table>
<h4 id="자주-쓰이는-set-작업"><a href="#자주-쓰이는-set-작업" class="headerlink" title="자주 쓰이는 set() 작업"></a>자주 쓰이는 set() 작업</h4><table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>setBoolean(int, boolean)</td>
<td>지정한 인덱스의 Boolean 값을 설정</td>
</tr>
<tr>
<td>setByte(int index, int value)</td>
<td>지정한 인덱스의 바이트 값을 설정</td>
</tr>
<tr>
<td>setMedium(int index, int value)</td>
<td>지정한 인덱스의 24비트 미디엄 값을 설정</td>
</tr>
<tr>
<td>setInt(int index, int value)</td>
<td>지정한 인덱스의 int 값을 설정</td>
</tr>
<tr>
<td>setLong(int index, long value)</td>
<td>지정한 인덱스의 long 값을 설정</td>
</tr>
<tr>
<td>setShort(int index, int value)</td>
<td>지정한 인덱스의 short 값을 설정</td>
</tr>
</tbody></table>
<ul>
<li>get()/set() 예제<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Charset utf8 = Charset.forName(<span class="string">"UTF-8"</span>);</span><br><span class="line">ByteBuf buf = Unpooled.copiedBuffer(<span class="string">"Netty !"</span>, utf8);</span><br><span class="line">System.out.println((<span class="keyword">char</span>)buf.getByte(<span class="number">0</span>));</span><br><span class="line"><span class="comment">// 첫번째 문자 'N' 출력</span></span><br><span class="line"><span class="keyword">int</span> readerIndex = buf.readerIndex();</span><br><span class="line"><span class="keyword">int</span> writerIndex = buf.writerIndex();</span><br><span class="line"><span class="comment">// 현재 인덱스들을 저장</span></span><br><span class="line">buf.setByte(<span class="number">0</span>, (<span class="keyword">byte</span>)<span class="string">'B'</span>);</span><br><span class="line"><span class="comment">// 인덱스 0에 있는 바이트를 문자'B'로 변경</span></span><br><span class="line">System.out.println((<span class="keyword">char</span>)buf.getByte(<span class="number">0</span>));</span><br><span class="line"><span class="comment">// 첫번째 문자 'B'를 출력</span></span><br><span class="line"><span class="keyword">assert</span> readerIndex = buf.readerIndex();</span><br><span class="line"><span class="keyword">assert</span> writerIndex = buf.writerIndex();</span><br><span class="line"><span class="comment">// 인덱스가 바뀌지 않았으므로 성공</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="자주-쓰이는-read-작업"><a href="#자주-쓰이는-read-작업" class="headerlink" title="자주 쓰이는 read() 작업"></a>자주 쓰이는 read() 작업</h4><table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>readBoolean()</td>
<td>현재 readerIndex 위치의 Boolean 값을 반환하고 readerIndex를 1만큼 증가시킨다</td>
</tr>
<tr>
<td>readByte()</td>
<td>현재 readerIndex 위치의 바이트 값을 반환하고 readerIndex를 1만큼 증가시킨다</td>
</tr>
<tr>
<td>readUnsignedByte()</td>
<td>현재 readerIndex 위치의 short 값을 반환하고 readerIndex를 1만큼 증가시킨다</td>
</tr>
<tr>
<td>readMedium()</td>
<td>현재 readerIndex 위치의 24비트 미디엄 값을 반환하고 readerIndex를 3만큼 증가시킨다</td>
</tr>
<tr>
<td>readUnsignedMedium()</td>
<td>현재 readerIndex 위치의 부호 없는 24비트 미디엄 값을 반환하고 readerIndex를 3만큼 증가시킨다</td>
</tr>
<tr>
<td>readInt()</td>
<td>현재 readerIndex 위치의 int값을 반환하고 readerIndex를 4만큼 증가시킨다</td>
</tr>
<tr>
<td>readUnsignedInt()</td>
<td>현재 readerIndex 위치의 부호 없는 int값을 long으로 반환하고 readerIndex를 4만큼 증가시킨다</td>
</tr>
<tr>
<td>readLong()</td>
<td>현재 readerIndex 위치의 long 값을 반환하고 readerIndex를 8만큼 증가시킨다</td>
</tr>
<tr>
<td>readShort()</td>
<td>현재 readerIndex 위치의 short 값을 반환하고 readerIndex를 2만큼 증가시킨다</td>
</tr>
<tr>
<td>readUnsignedShort()</td>
<td>현재 readerIndex 위치의 부호 없는 short값을 int로 반환하고 readerIndex를 2만큼 증가시킨다</td>
</tr>
<tr>
<td>readBytes(ByteBuf | byte[] destination, int dstIndex [,int length])</td>
<td>현재 ByteBuf의 현재 readerIndex로부터 시작하는 바이트를 (length가 지정된 경우 length 바이트 만큼) 대상 ByteBuf또는 byte[]의 대상 dstIndex로부터 전송한다. 로컬 readerIndex는 전송된 바이트 수만큼 증가한다.</td>
</tr>
</tbody></table>
<h4 id="자주-쓰이는-write-작업"><a href="#자주-쓰이는-write-작업" class="headerlink" title="자주 쓰이는 write() 작업"></a>자주 쓰이는 write() 작업</h4><table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>writeBoolean(boolean)</td>
<td>현재 writerIndex 위치에 Boolean값을 기록하고 writerIndex를 1만큼 증가시킨다</td>
</tr>
<tr>
<td>writeByte(int)</td>
<td>현재 writerIndex 위치에 바이트 값을 기록하고 writerIndex를 1만큼 증가시킨다</td>
</tr>
<tr>
<td>writeMedium(int)</td>
<td>현재 writerIndex 위치에 미디엄 값을 기록하고 writerIndex를 3만큼 증가시킨다</td>
</tr>
<tr>
<td>writeInt(int)</td>
<td>현재 writerIndex 위치에 int 값을 기록하고 writerIndex를 4만큼 증가시킨다</td>
</tr>
<tr>
<td>writeLong(long)</td>
<td>현재 writerIndex 위치에 long값을 기록하고 writerIndex를 8만큼 증가시킨다</td>
</tr>
<tr>
<td>writeShort(int)</td>
<td>현재 writerIndex 위치에 short값을 기록하고 writerIndex를 2만큼 증가시킨다</td>
</tr>
<tr>
<td>writeBytes(source ByteBuf | byte[] [, int srcIndex, int length])</td>
<td>지정된 원본(ByteBuf 또는 byte[])의 현재 writerIndex부터 데이터 전송을 시작한다. srcIndex와 length가 지정된 경우 srcIndex부터 시작해 length 바이트 만큼 읽는다. 현재 writerIndex는 기록된 바이트 수만큼 증가한다</td>
</tr>
</tbody></table>
<ul>
<li>read()/write() 예제<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Charset utf8 = Charset.forName(<span class="string">"UTF-8"</span>);</span><br><span class="line">ByteBuf buf = Unpooled.copiedBuffer(<span class="string">"Netty !"</span>, utf8);</span><br><span class="line"><span class="comment">// 지정한 문자열의 바이트를 저장하는 ByteBuf 생성</span></span><br><span class="line">System.out.println((<span class="keyword">char</span>)buf.readByte());</span><br><span class="line"><span class="comment">// 첫번째 문자 'N'을 출력</span></span><br><span class="line"><span class="keyword">int</span> readerIndex = buf.readerIndex();</span><br><span class="line"><span class="keyword">int</span> writerIndex = buf.writerIndex();</span><br><span class="line"><span class="comment">// 현재 readerIndex/writerIndex 를 저장</span></span><br><span class="line">buf.writeByte((<span class="keyword">byte</span>)<span class="string">'?'</span>);</span><br><span class="line"><span class="comment">// 버퍼에 '?'를 추가</span></span><br><span class="line"><span class="keyword">assert</span> readerIndex == buf.readerIndex();</span><br><span class="line"><span class="keyword">assert</span> writerIndex != buf.writerIndex();</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="기타-유용한-메소드"><a href="#기타-유용한-메소드" class="headerlink" title="기타 유용한 메소드"></a>기타 유용한 메소드</h4><table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>isReadable()</td>
<td>읽을 수 있는 바이트가 하나 이상이면 true를 반환</td>
</tr>
<tr>
<td>isWritable()</td>
<td>기록할 수 있는 바이트가 하나 이상이면 true를 반환</td>
</tr>
<tr>
<td>readableBytes()</td>
<td>읽을 수 있는 바이트 수를 반환</td>
</tr>
<tr>
<td>writableBytes()</td>
<td>기록할 수 있는 바이트 수를 반환</td>
</tr>
<tr>
<td>capacity()</td>
<td>ByteBuf가 저장할 수 있는 바이트 수를 반환한다. 이 수를 초과하면 maxCapacity()에 도달할 때까지 용량이 확장된다.</td>
</tr>
<tr>
<td>maxCapacity()</td>
<td>ByteBuf가 저장할 수 있는 최대 바이트 수를 반환</td>
</tr>
<tr>
<td>hasArray()</td>
<td>ByteBuf에 힙 버퍼가 있는 경우 true를 반환</td>
</tr>
<tr>
<td>array()</td>
<td>ByteBuf에 힙 버퍼가 있는 경우 해당 바이트 배열을 반환하며, 그렇지 않으면 <code>UnsupportedOperationException</code>을 발생시킨다.</td>
</tr>
</tbody></table>
<br/>

<h2 id="ByteBufAllocator"><a href="#ByteBufAllocator" class="headerlink" title="ByteBufAllocator"></a>ByteBufAllocator</h2><p>자바 바이트 버퍼는 언어 자체에서 제공하는 버퍼 풀이 없다. 따라서 바이트 버퍼 풀을 이용하려면 객체 풀링을 제공하는 서드파티 라이브러리를 사용하거나 직접 구현해야한다. 네티는 프레임 워크에서 바이트 버퍼 풀을 제공하고 있으며 다이렉트 버퍼와 힙 버퍼를 모두 풀링할 수 있다. 네티의 바이트 버퍼 풀링은 <code>ByteBufAllocator</code>를 사용해 바이트 버퍼를 생성할 때 자동으로 수행된다.</p>
<p><code>ByteBufAllocator</code>의 참조는 <code>Channel</code>에서 얻거나 <code>ChannelHandler</code>에 바인딩 된 <code>ChannelHandlerContext</code>를 통해 얻을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Channel channel = ...;</span><br><span class="line">ByteBufAllocator allocator = channel.alloc()</span><br><span class="line"><span class="comment">// Channel에서 ByteBufAllocator를 얻음</span></span><br><span class="line">...</span><br><span class="line">ChannelHandlerContext ctx = ...;</span><br><span class="line">ByteBufAllocator allocator2 = ctx.alloc();</span><br><span class="line"><span class="comment">// ChannelHandlerContext에서 ByteBufAllocator를 얻음</span></span><br><span class="line">...</span><br><span class="line">ByteBuf newBuffer = ByteBufAllocator.buffer();</span><br><span class="line"><span class="comment">// ByteBufAllocator의 buffer 메소드를 사용해 생성된 바이트 버퍼</span></span><br><span class="line"><span class="comment">// 똑같이 ByteBufAllocator에서 관리된다.</span></span><br><span class="line"><span class="comment">// 바이트 버퍼를 채널에 기록하거나 명시적으로 release 호출 시 바이트 버퍼 풀로 돌아간다.</span></span><br><span class="line">...</span><br><span class="line"><span class="comment">// new Buffer 사용</span></span><br><span class="line">ctx.write(msg);</span><br><span class="line"><span class="comment">// write 메소드 인수로 바이트 버퍼가 입력되면 데이터를 채널에 기록하고 난 뒤 버퍼 풀로 돌아간다.</span></span><br></pre></td></tr></table></figure>

<h3 id="풀링되지-않은-버퍼"><a href="#풀링되지-않은-버퍼" class="headerlink" title="풀링되지 않은 버퍼"></a>풀링되지 않은 버퍼</h3><p><code>ByteBufAllocator</code>의 참조가 없는 경우, 네티는 풀링되지 않는 ByteBuf 인스턴스를 생성하는 정적 도우미 메서드 <code>Unpooled</code> 클래스를 제공한다.</p>
<table>
<thead>
<tr>
<th>이름</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>buffer</td>
<td>풀링되지 않은 힙 기반 ByteBuf 반환</td>
</tr>
<tr>
<td>directBuffer</td>
<td>풀링되지 않은 다이렉트 ByteBuf 반환</td>
</tr>
<tr>
<td>wrappedBuffer</td>
<td>지정한 데이터를 래핑하는 ByteBuf 반환</td>
</tr>
<tr>
<td>copiedBuffer</td>
<td>지정한 데이터를 복사하는 ByteBuf 반환</td>
</tr>
</tbody></table>
<p>Unpooled 클래스는 다른 네티 컴포넌트가 필요 없는 네트워킹과 무관한 프로젝트에 ByteBuf를 제공해 확정성 높은 고성능 버퍼 API를 이용할 수 있게 해준다.</p>
<h3 id="참조-카운팅"><a href="#참조-카운팅" class="headerlink" title="참조 카운팅"></a>참조 카운팅</h3><p>네티는 바이트 버퍼를 풀링하기 위해 바이트 버퍼에 참조수를 기록한다. <code>ReferenceCountUtil</code> 클래스에 정의된 <code>retain</code> 메소드와 <code>release</code> 메소드를 사용할 수 있다 <code>retain</code> 메소드는 참조 수를 증가시키고 <code>release</code> 메소드는 참조 수를 감소 시키고 할당된 메모리가 해제 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Channel channel = ...;</span><br><span class="line">ByteBufAllocator allocator = channel.alloc();</span><br><span class="line"><span class="comment">// channel에서 ByteBufAllocator를 얻음</span></span><br><span class="line">....</span><br><span class="line">ByteBuf buffer = allocator.directBuffer();</span><br><span class="line"><span class="comment">// ByteBufAllocator로부터 ByteBuf를 할당</span></span><br><span class="line"><span class="keyword">assert</span> buffer.refCnt() = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// 참조 카운트가 1인지 확인</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">boolean</span> released = buffer.release();</span><br><span class="line"><span class="comment">// 객체에 대한 참조 카운트를 감소 시킴</span></span><br><span class="line"><span class="comment">// 참조 카운트가 0이 되면 객체가 해제되고 메소드가 true를 반환한다.</span></span><br></pre></td></tr></table></figure>

<p>참조 카운트가 0일 때 <code>release()</code>를 호출하면 <code>IllegalReferenceCountException</code>이 발생한다.<br>참조 해제는 각 객체가 새로 정의할 수 있다. 예를 들면 클래스의 <code>release()</code> 구현에서 참조 카운트를 현재 값과 상관 없이 0으로 설정하면 모든 활성 참조를 일시에 해제할 수 있다.</p>
<br/>

<h2 id="기타-작업"><a href="#기타-작업" class="headerlink" title="기타 작업"></a>기타 작업</h2><h3 id="부호-없는-값-읽기"><a href="#부호-없는-값-읽기" class="headerlink" title="부호 없는 값 읽기"></a>부호 없는 값 읽기</h3><p>자바는 부호 없는 데이터 형이 없어서 네티에서는 부호 없는 데이터를 처리하기 위한 메소드를 제공한다. 네티에서는 부호 없는 데이터를 읽을 때 읽을 데이터보다 큰 데이터 형에 할당한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ByteBuf = Unpooled.buffer(<span class="number">11</span>);</span><br><span class="line">buf.writeShort(-<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 빈 바이트 버퍼에 음수 -1 기록 (2byte)</span></span><br><span class="line"></span><br><span class="line">assertEquals(<span class="number">65535</span>, buf.getUnsignedShort(<span class="number">0</span>));</span><br><span class="line"><span class="comment">// -1은 16진수 표기법으로 0xFFFF이고 이를 부호 없는 정수로 표현하면 65535가 된다.</span></span><br><span class="line"><span class="comment">// 이를 4byte로 저장한다.</span></span><br><span class="line"><span class="comment">// getUnsignedShort 메소드로 바이트 버퍼에 저장된 0번째 바이트부터 2바이트 읽어서</span></span><br><span class="line"><span class="comment">// 4바이트 데이터인 int로 읽어들이면 65535가 된다.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>부호 없는 데이터 지원 메소드</li>
</ul>
<table>
<thead>
<tr>
<th>메소드</th>
<th>원본 데이터형</th>
<th>리턴 데이터형</th>
</tr>
</thead>
<tbody><tr>
<td>getUnsignedByte</td>
<td>byte</td>
<td>short</td>
</tr>
<tr>
<td>getUnsignedShort</td>
<td>short</td>
<td>int</td>
</tr>
<tr>
<td>getUnsignedMedium</td>
<td>medium</td>
<td>int</td>
</tr>
<tr>
<td>getUnsignedInt</td>
<td>int</td>
<td>long</td>
</tr>
</tbody></table>
<h3 id="엔디안-변환"><a href="#엔디안-변환" class="headerlink" title="엔디안 변환"></a>엔디안 변환</h3><p>네티의 바이트 버퍼의 기본 엔디안은 자바와 동일하게 <code>빅엔디안</code>이다. <code>리틀 엔디안</code> 바이트 버퍼가 필요한 경우를 <code>order</code> 메소드로 엔디안을 변환할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ByteBuf buf = Unpooled.buffer();</span><br><span class="line">...</span><br><span class="line">ByteBuf lettleEndianBuf = buf.order(ByteOrder.LITTLE_ENDIAN);</span><br></pre></td></tr></table></figure>

<p><code>order</code> 메소드로 생성한 바이트 버퍼는 새로운 바이트 버퍼가 아닌 주어진 바이트 버퍼의 내용을 공유하는 <code>파생 버퍼</code>이다. 기존 바이트 버퍼의 배열과 인덱스들을 공유한다. 즉 내용은 같지만 리틀 엔디안으로 접근하는 바이트 버퍼를 생성한다.</p>
<hr>
<ul>
<li>참고 서적<ul>
<li>네티 인 액션</li>
<li>자바 네트워크 소녀 Netty</li>
</ul>
</li>
</ul>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/netty/">Netty</a>, <a class="has-link-grey -link" href="/tags/network/">Network</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5e75b552ebeba800120faa50&amp;product=inline-share-buttons&amp;cms=sop' async='async'></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2018/05/25/netty-channel-event-and-eventhandler-and-pipeline/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">Netty 채널 이벤트와 이벤트핸들러, 그리고 파이프라인</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/05/22/netty-network-transport-api/">
                <span class="level-item">Netty Network Transport API</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">Comments</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'https://j2de.github.io/2018/05/23/netty-datacontainer-bytebuf/';
        this.page.identifier = '2018/05/23/netty-datacontainer-bytebuf/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'kodakyung' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-4-widescreen  has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="" src="/images/profiles/profile.png" alt="Jade">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        Jade
                    </p>
                    
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Seoul, South Korea</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            73
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            18
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            41
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/j2de" target="_blank" rel="noopener">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Email" href="/j2de.dev@gmail.com">
                
                <i class="fas fa-envelope"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/j2de">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="LinkedIn" href="/blank">
                
                <i class="fab fa-linkedin-in"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="https://j2de.github.io/feed.xml">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/cs/">
            <span class="level-start">
                <span class="level-item">CS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/cs/database/">
            <span class="level-start">
                <span class="level-item">DataBase</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/cs/os/">
            <span class="level-start">
                <span class="level-item">OS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/programming/">
            <span class="level-start">
                <span class="level-item">Programming</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">37</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/programming/common/">
            <span class="level-start">
                <span class="level-item">Common</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/programming/java/">
            <span class="level-start">
                <span class="level-item">Java</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">24</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/programming/javascript/">
            <span class="level-start">
                <span class="level-item">Javascript</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">9</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/server/">
            <span class="level-start">
                <span class="level-item">Server</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">16</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/server/netty/">
            <span class="level-start">
                <span class="level-item">Netty</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/server/orm/">
            <span class="level-start">
                <span class="level-item">ORM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/server/spring/">
            <span class="level-start">
                <span class="level-item">Spring</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/server/test/">
            <span class="level-start">
                <span class="level-item">Test</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/system/">
            <span class="level-start">
                <span class="level-item">System</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/system/docker/">
            <span class="level-start">
                <span class="level-item">Docker</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/system/shell/">
            <span class="level-start">
                <span class="level-item">Shell</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/think/">
            <span class="level-start">
                <span class="level-item">Think</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/troubleshooting/">
            <span class="level-start">
                <span class="level-item">Troubleshooting</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/web/">
            <span class="level-start">
                <span class="level-item">Web</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-02-01T14:41:26.000Z">2020-02-01</time></div>
                    <a href="/2020/02/01/reverting-invalid-git-merge/" class="title has-link-black-ter is-size-6 has-text-weight-normal">git 커밋 중간에 잘못된 merge 되돌리기</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/troubleshooting/">Troubleshooting</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-20T13:54:30.000Z">2020-01-20</time></div>
                    <a href="/2020/01/20/women-who-code-talk-with-sonia-from-ms/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Talk with Sonia from Microsoft - Inspiring Tech Women</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/think/">Think</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-01-19T12:03:04.000Z">2020-01-19</time></div>
                    <a href="/2020/01/19/encryption-vs-hash/" class="title has-link-black-ter is-size-6 has-text-weight-normal">암호화 vs 해시</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/programming/common/">Common</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T21:54:07.000Z">2019-10-20</time></div>
                    <a href="/2019/10/20/java-stream/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Java - Stream 기초</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/programming/java/">Java</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-10-19T21:47:20.000Z">2019-10-20</time></div>
                    <a href="/2019/10/20/functional-thinking-ch7/" class="title has-link-black-ter is-size-6 has-text-weight-normal">함수형 사고 - ch7 실용적 사고</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/programming/">Programming</a> / <a class="has-link-grey -link" href="/categories/programming/common/">Common</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/02/">
                <span class="level-start">
                    <span class="level-item">February 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/01/">
                <span class="level-start">
                    <span class="level-item">January 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/10/">
                <span class="level-start">
                    <span class="level-item">October 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/09/">
                <span class="level-start">
                    <span class="level-item">September 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/08/">
                <span class="level-start">
                    <span class="level-item">August 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">July 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">June 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">April 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">March 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">February 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">January 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">December 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">November 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">October 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">September 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">August 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">July 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">June 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">May 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    Jade&#39;s Blog
                
                </a>
                <p class="is-size-7">
                &copy; 2020 j2de&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://j2de.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>